<%- include('layout/header') %>
<form>
  <div class="form-group">
    <input
      type="text"
      class="form-control"
      id="input-username"
      placeholder="请输入用户名"
    />
  </div>
  <div class="form-group">
    <input
      type="password"
      class="form-control"
      id="input-password"
      placeholder="请输入密码"
    />
  </div>
  <button type="submit" class="btn btn-primary" id="btn-submit">登录</button>
  &nbsp;
  <a href="/register">注册账号>></a>
</form>

<script>
  $("#btn-submit").on("click", function (e) {
    e.preventDefault();

    $.post(
      "/api/user/login",
      {
        username: $("#input-username").val(),
        password: $("#input-password").val(),
      },
      function (callback) {
        if (callback.status === 200) {
          alert("登录成功");
          window.location.href = "/";
        } else {
          alert(callback.message);
        }
      }
    );
  });
</script>
